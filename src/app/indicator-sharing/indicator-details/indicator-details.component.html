<div id="indicatorDetails" class="fadeIn" *ngIf="SERVER_CALL_COMPLETE && (indicator || errorMessage); else loadingBlock">

  <div id="titleWrapper"></div>

  <div class="container-fluid mt-15">    

    <div class="row" *ngIf="errorMessage">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 col-sm-12">
        <error-card errorTitle="An Error Occured" [errorBody]="errorMessage"></error-card>
      </div>
    </div>
    
    <div class="row" *ngIf="indicator">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 col-sm-12">
        <p>
          <indicator-card 
          [indicator]="indicator"
          [attackPatterns]="getAttackPatternsByIndicatorId(indicator.id)"
          [creator]="getIdentityNameById(indicator.created_by_ref)"
          [sensors]="getSensorsByIndicatorId(indicator.id)"
          [searchParameters]="searchParameters$ | async"
          (stateChange)="updateIndicator($event)"></indicator-card>
        </p>
      </div>
    </div>
    
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 col-sm-12">
        <br>
        <p>
          <a routerLink="/indicator-sharing/list">Return to Analytic Exchange Home</a>
        </p>
      </div>
    </div>

  </div>

</div>

<ng-template #loadingBlock>
  <loading-spinner></loading-spinner>
</ng-template>
