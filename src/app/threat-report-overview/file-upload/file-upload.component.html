<div *ngIf="!loading; else loadingBlock">
    <mat-error *ngIf="errMsg">{{errMsg}}</mat-error>
    <mat-list *ngIf="fName; else uploadBlock">
        <mat-list-item>
            <mat-icon class="paperclip mat-24" mat-list-icon>attachment</mat-icon>
            <h4 mat-line>
                {{ fName }}
            </h4>
            <p mat-line>
                {{this.numEventsParsed}} lines parsed.
            </p>
            <button mat-icon-button class="mat-24 deleteBtn" (click)="onRemoveFile($event)" matTooltip="Remove CSV records">
                <mat-icon aria-label="remove csv records">
                    delete_forever
                </mat-icon>
            </button>
        </mat-list-item>
    </mat-list>
    <ng-template #uploadBlock>
        <button mat-button mat-raised-button id="uploadButton" class="" (click)="openFileUpload($event)" matTooltip="Upload and parse a CSV file">
            Import CSV
        </button>
        <input #fileUpload id="fileInput" name="file" type="file" class="hide" ([value])="fName" (change)="fileChanged($event)">
    </ng-template>
</div>

<ng-template #loadingBlock>
    <mat-progress-spinner color="primary"  mode="indeterminate"></mat-progress-spinner>
</ng-template>